---
sidebar: sidebar 
permalink: deploy-features-integration/beegfs-csi-driver/csi-driver-verify.html 
keywords: BeeGFS Features, CSI, Driver 
summary: BeeGFS CSI 驱动程序部署验证。 
---
= BeeGFS CSI 驱动程序部署验证
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
要验证 BeeGFS CSI 驱动程序是否已成功部署，请检查 CSI 驱动程序 pod 的状态，并确认它们是否按预期运行。

要检查 BeeGFS-CSI 命名空间中所有资源的状态，请运行：

[source, console]
----
kubectl get all -n beegfs-csi
----
预期输出：

[listing]
----
NAME                          READY    STATUS      RESTARTS    AGE
pod/csi-beegfs-controller-0   3/3      Running     0           5d11h
pod/csi-beegfs-node-8f917     3/3      Running     0           5d11h
----


== 检查控制器舱

要诊断问题或收集有关 BeeGFS CSI 控制器 pod 的更多详细信息，请使用以下命令描述该 pod 并查看其事件、状态和最近活动：

[source, console]
----
kubectl describe pod csi-beegfs-controller-0 -n beegfs-csi
----
预期输出：

[listing]
----
Events:

  Type     Reason     Age                  From               Message
  ----     ------     ----                 ----               -------
  Normal   Scheduled  117s                 default-scheduler  Successfully assigned beegfs-csi/csi-beegfs-controller-0 to node01
  Normal   Pulled     117s                 kubelet            Container image "registry.k8s.io/sig-storage/csi-provisioner:v3.5.0" already present on machine
  Normal   Created    117s                 kubelet            Created container: csi-provisioner
  Normal   Started    117s                 kubelet            Started container csi-provisioner
  Normal   Started    101s (x3 over 117s)  kubelet            Started container beegfs
  Normal   Pulled     86s (x2 over 117s)   kubelet            Container image "registry.k8s.io/sig-storage/csi-resizer:v1.11.1" already present on machine
  Normal   Created    86s (x2 over 117s)   kubelet            Created container: csi-resizer
  Normal   Started    86s (x2 over 117s)   kubelet            Started container csi-resizer
  Warning  BackOff    85s (x5 over 115s)   kubelet            Back-off restarting failed container beegfs in pod csi-beegfs-controller-0_beegfs-csi(47016fd3-3a2a-41ed-bc4c-5a716c377b1e)
  Normal   Pulled     73s (x4 over 117s)   kubelet            Container image "ghcr.io/thinkparq/beegfs-csi-driver:v1.7.0" already present on machine
  Normal   Created    73s (x4 over 117s)   kubelet            Created container: beegfs
----


== 验证存储类

. 验证 StorageClass 是否创建成功：
+
[source, console]
----
kubectl get sc
----
+
预期输出：

+
[listing]
----
root@node01:/home/user_id/beegfs-csi-driver# kubectl get sc
NAME                PROVISIONER             RECLAIMPOLICY   VOLUMEBINDINGMODE   ALLOWVOLUMEEXPANSION   AGE
csi-beegfs-dyn-sc   beegfs.csi.org.com   Delete          Immediate           true                   17s
----
. 确认 BeeGFS 卷已按预期挂载。
+
验证指定的目录 `volDirBasePath`在 `examples/k8s/dyn/dyn-sc.yaml`显示在 `/mnt/beegfs`。

+
例如，如果 `volDirBasePath`设置为 `user_id_k8s`你应该能看到这个目录：

+
[source, console]
----
root@node01:/# ls -ltr /mnt/beegfs/
total 1
drwxrwxrwx 4 root root 2 Oct 15 10:16 user_id_k8s
----

